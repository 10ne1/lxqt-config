<html>
<head>
<title>Magnetic attraction algorithm</title>
</head>
<body>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<h1>Magnetic attraction algorithm</h1>
<p>The algorithm used to move monitors to the nearest one in "position dialog" is explained here.</p>
<p>Segment equation is used. Let's explain segment equation in order to understand the proccess:</p>
<p>If you have two points, $\vec{p_0}$ and $\vec{p_1}$, the equation of straigh line between $\vec{p_0}$ and $\vec{p_1}$ is: </p>
$$
\vec{r} = \vec{v} \cdot t + \vec{p_0}
$$
<p>where $\vec{v} = \vec{p_1} - \vec{p_0}$, and $t \in [0,1]$.</p>
<p>Algorithm calculates equation of the segment between monitor centers. Then, it gets intersection points with edges of monitors:</p>
<svg width="343" height="123" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
 <!-- Created with SVG-edit - http://svg-edit.googlecode.com/ -->
 <g>
  <title>Layer 1</title>
  <rect id="svg_1" height="89" width="117" y="2.5" x="2.5" stroke-width="5" stroke="#000000" fill="#ffffff"/>
  <rect id="svg_2" height="89" width="117" y="31.5" x="223.5" stroke-width="5" stroke="#000000" fill="#ffffff"/>
  <line id="svg_4" y2="77.5" x2="286.5" y1="47.5" x1="59.5" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="5" stroke="#000000" fill="none"/>
  <foreignObject style="cursor: text;" xml:space="preserve" text-anchor="middle" font-family="serif" font-size="24" id="svg_5" y="50.5" x="53.5" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="0" stroke="#000000" fill="#000000"><div>$c_0$</div></foreignObject>
  <foreignObject style="cursor: move;" xml:space="preserve" text-anchor="middle" font-family="serif" font-size="24" id="svg_6" y="70.5" x="288.5" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="0" stroke="#000000" fill="#000000">$c_1$</foreignObject>
  <foreignObject style="cursor: move;" xml:space="preserve" text-anchor="middle" font-family="serif" font-size="24" id="svg_7" y="30.5" x="120.5" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="0" stroke="#000000" fill="#000000">$t_2$</foreignObject>
  <foreignObject style="cursor: move;" xml:space="preserve" text-anchor="middle" font-family="serif" font-size="24" id="svg_8" y="35.5" x="191.5" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="0" stroke="#000000" fill="#000000">$t_1$</foreignObject>
<ellipse ry="4" rx="4" id="svg_9" cy="55" cx="119.5" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="5" stroke="#000000" fill="#000000"/>
  <ellipse id="svg_11" ry="4" rx="4" cy="69" cx="223.5" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="5" stroke="#000000" fill="#000000"/>
 </g>
</svg>
<p>If $\vec{v} = \vec{c_1} - \vec{c_0}$, $\vec{c_0}$ and $\vec{c_1}$ are monitors centers, the equation between them is $\vec{r} = \vec{v} \cdot t + \vec{c_0}$.</p>
<p>where $t_1$ is the parameter of the mentioned equation to get the intersection point with the $c_1$ monitor.</p>
<p>where $t_2$ the parameter with the $c_2$ monitor.</p>
<p>$t_1, t_2 \in [0,1]$.</p>

<p>If $t_2$&lt;$t_1$, the monitors are separated, otherwise the monitors are overlapped.</p>
<p>With the previous information we get:</p>
<p>$\vec{r_1} = \vec{v}\cdot t_1 + \vec{c_0}$</p>
<p>$\vec{r_2} = \vec{v}\cdot t_2 + \vec{c_0}$</p>
<p>Iff $t_2$&lt;$t_1$, $c_0$ monitor must be moved, and its displacement is provided by $\vec{r} = \vec{r_1}-\vec{r_2}$</p>
</body>
</html>